import json

from fastapi import FastAPI
from fastapi.testclient import TestClient
from .main import app

client = TestClient(app)


def test_get_users():
    response = client.get("/users/")
    assert response.status_code == 200
    # print(response.json())
    assert response.json() == {"msg": "[{'Companions': [],\n  'hashed_password': '$2b$12$viOVDHBD.dWPiyJhMFpA5e/aKmElTyyaBnqwF9JS1yDeg5NytciIe',\n  'is_active': True,\n  'username': 'a'},\n {'Companions': [],\n  'hashed_password': '$2b$12$LgDS7S2rDnyYozUJYkRJieFLXUbIUEUJwVyUG6IgbITb2UcGepOZS',\n  'is_active': True,\n  'username': 'e'},\n {'Companions': [],\n  'hashed_password': '$2b$12$0koa6OnwJmBUMmPI.SwA3eKLSCTgfbSK2MTc8tsD5mlSD00nWeMRO',\n  'is_active': True,\n  'username': 'f'},\n {'Companions': [],\n  'hashed_password': '$2b$12$XC787FP6cQ4OYzJPUzQVtuaQFubPUKjmU1UXIKi6WjVX4cPtCOCZW',\n  'is_active': True,\n  'username': 'g'},\n {'Companions': [],\n  'hashed_password': '$2b$12$q2ud5D45j/2dNA0C8n51Zu1Keb3zbpTL6faJaqrKG9IRTOvkkZmK6',\n  'is_active': True,\n  'username': 'h'},\n {'Companions': [],\n  'hashed_password': '$2b$12$Xq61/v9905pyCfwaZkcWA.ZExe4.H6HRQ.GGqfJf..f60Gbl8Pa42',\n  'is_active': True,\n  'username': 'j'},\n {'Companions': [],\n  'hashed_password': '$2b$12$pziV9kF0qa8MgkIZz6JpTehugim7nYEIXFFNzEL0i1WWUl/uMsc7.',\n  'is_active': True,\n  'username': 'jjj'},\n {'Companions': [],\n  'hashed_password': '$2b$12$h5OF.gqA6cz/mJ78i77O4e7Z8Re77cdvTNwx6eg7rqK66A8cOazKy',\n  'is_active': True,\n  'username': 'kosimisher'},\n {'Companions': [],\n  'hashed_password': '$2b$12$il6slShSxY9qYOrnH3n5NOG18BBZycj5.8kCYCJLdoiq3jGmdJWTW',\n  'is_active': True,\n  'username': 's'},\n {'Companions': [],\n  'hashed_password': '$2b$12$4KltZzfkxYT1zx/IJEXkru4s9xmW6wnrrI28AnYy4tAbG72FwtCSC',\n  'is_active': True,\n  'username': 'Sher'},\n {'Companions': [],\n  'hashed_password': '$2b$12$y..0qHL8StV/gxtwXwB8Z.0jKJJbU4okSPu7kr21Ei6qGueFg1B3e',\n  'is_active': True,\n  'username': 'string'},\n {'Companions': [],\n  'hashed_password': '$2b$12$6vKcc3.ScXPEYGmYC46lfuFBvBm6zbpIadulYl44vBeGCgYGNim9y',\n  'is_active': True,\n  'username': 't'},\n {'Companions': [],\n  'hashed_password': '$2b$12$sxse0jXqzwmhMWYQJCtg5uS5zaGqrHfQvWq.0uAuLw98jQXi06kSy',\n  'is_active': True,\n  'username': 'test'},\n {'Companions': [],\n  'hashed_password': '$2b$12$R980DzbPrJ.uX6h3tOTjOeUX13GfTWBQUpcRZoWImnXCcCOcwOsX6',\n  'is_active': True,\n  'username': 'testing'},\n {'Companions': [],\n  'hashed_password': '$2b$12$UiFIe4DvFESn9rbxh8zJf.TpLR72/No78Y4eD3wWWU6FiNoJGQrF2',\n  'is_active': True,\n  'username': 'username1'}]"}
